<div class="modal" modal>
    <div class="modal__content">
        <div class="modal__preview">
            <div class="preview preview--{{preview.source}}">
                <div class="preview__media">
                    <div class="preview__image">
                        <img ng-show="preview.image_url" src="{{ preview.image_url}}" alt="">
                    </div>
                </div>
                <h2 class="preview__title"><a href="">{{preview.title}}</a></h2>
            </div>
        </div>
        <div class="modal__form">
            <div class="form-group">
                <label class="form-group__label" for="source_url">URL</label>
                <input id="source_url" class="form-group__control" type="text" ng-change="previewSong(preview.source_url)" ng-model="preview.source_url">
            </div>

            <div class="form-group">
                <label class="form-group__label" for="title">Title</label>
                <input id="title" class="form-group__control" type="text" ng-model="preview.title">
            </div>
            
            <div class="form-group">
                <label class="form-group__label" for="genre">Genre</label>
                <select ng-model="preview.genre_id" class="form-group__control" ng-options="genre.id as genre.name for genre in genres">
                    <option value="">Select</option>
                </select>
            </div>
            
            <div class="form-group">
                <label class="form-group__label" for="text">Text</label>
                <textarea class="form-group__control" id="text" rows="4" ng-model="preview.text"></textarea>
            </div>

            <div class="button-group">
                
                <!-- POST BUTTONS -->
                <button ng-hide="preview.status_id" ng-click="submit(preview, 1)" class="button button--primary">Post</button>
                <button ng-hide="preview.status_id" ng-click="submit(preview, 2)" class="button">Draft</button>

                <!-- UPDATE BUTTONS -->
                <button ng-show="preview.status_id" ng-hide="confirm" ng-click="update(preview, 1)" class="button button--primary">{{ preview.status_id == 1 ? 'Update' : 'Publish' }}</button>
                <button ng-show="preview.status_id" ng-hide="confirm" ng-click="update(preview, 2)" class="button">Draft</button>
                
                <!-- DELETE BUTTONS -->
                <button ng-show="preview.status_id" ng-hide="confirm" ng-click="confirm = true" class="button">Delete</button>
                
                <!-- <span ng-show="confirm"class="button-group__inline-label">Sure?</span> -->
                <button ng-show="confirm" ng-click="delete(preview.id)" class="button button--danger">Yes, Delete</button>
                <button ng-show="confirm" ng-click="confirm = false" class="button">Nevermind</button>

                <button ng-click="close()" class="button button--last">Cancel</button>
            </div>

            
        
        </div>

<!--     <div class="song-preview-nav">
        <button ng-click="previewView = 'details'" ng-class="{active: previewView == 'details'}">1. Details</button>
        <button ng-click="previewView = 'annotations'" ng-class="{active: previewView == 'annotations'}">2. Annotations</button>
        <button ng-click="previewView = 'twitter'" ng-class="{active: previewView == 'twitter'}">3. Twitter</button>
    </div>
 -->
    </div>
</div>
